{
  "timestamp": "2025-12-21T00:09:33.399Z",
  "version": "1.0",
  "entries": [
    {
      "id": "entry_mjdh77je_40zqnukx0",
      "key": "test-key",
      "value": {
        "status": "working"
      },
      "type": "object",
      "namespace": "test",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:03:44.618Z",
      "updatedAt": "2025-12-19T23:03:44.618Z",
      "lastAccessedAt": "2025-12-19T23:03:53.447Z",
      "version": 1,
      "size": 49,
      "compressed": false,
      "checksum": "ccb81bd114a3a846767d3f15206d4668d20eef1b7d204fcd6959b91c300eef3c",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdi806j_czqhrot2c",
      "key": "task-core-003/context",
      "value": {
        "taskId": "TASK-CORE-003",
        "title": "User Entity",
        "dependencies": [
          "TASK-CORE-002"
        ],
        "status": "started",
        "requirements": {
          "entity": "User",
          "enum": "UserRole",
          "values": [
            "OWNER",
            "ADMIN",
            "VIEWER",
            "ACCOUNTANT"
          ],
          "relations": [
            "tenantId->Tenant"
          ],
          "uniqueConstraints": [
            "auth0Id",
            "tenantId+email"
          ]
        }
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:32:21.355Z",
      "updatedAt": "2025-12-19T23:32:21.355Z",
      "lastAccessedAt": "2025-12-19T23:32:51.451Z",
      "version": 1,
      "size": 311,
      "compressed": false,
      "checksum": "e43bbff80c38330f0bbccc856e220e211c3ba46c6269bb68b9e2356cef4a5109",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdi9bq0_xaagibtto",
      "key": "task-core-003/schema",
      "value": {
        "status": "completed",
        "enum": "UserRole",
        "model": "User",
        "fields": [
          "id",
          "tenantId",
          "auth0Id",
          "email",
          "name",
          "role",
          "isActive",
          "lastLoginAt",
          "createdAt",
          "updatedAt"
        ],
        "constraints": [
          "auth0Id unique",
          "tenantId+email unique"
        ]
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:33:22.968Z",
      "updatedAt": "2025-12-19T23:33:22.968Z",
      "lastAccessedAt": "2025-12-19T23:34:26.433Z",
      "version": 1,
      "size": 249,
      "compressed": false,
      "checksum": "c44fa1b38967bcbb5cb264eb8b302cc443308aadbef7a439959982db5171a298",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdia2b8_mdav9g03a",
      "key": "task-core-003/migration",
      "value": {
        "status": "completed",
        "migrationName": "20251219233350_create_users",
        "table": "users",
        "enum": "UserRole"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:33:57.428Z",
      "updatedAt": "2025-12-19T23:33:57.428Z",
      "lastAccessedAt": "2025-12-19T23:34:27.845Z",
      "version": 1,
      "size": 131,
      "compressed": false,
      "checksum": "bd13f7dbd61719e7564649cfdfa82578253363cb0bda87f83004aef949e96ca0",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdibluu_ohk0a4b9l",
      "key": "task-core-003/entity-dto",
      "value": {
        "status": "completed",
        "files": [
          "src/database/entities/user.entity.ts",
          "src/database/dto/user.dto.ts"
        ],
        "exports": [
          "UserRole",
          "IUser",
          "CreateUserDto",
          "UpdateUserDto"
        ],
        "agent": "Agent #3",
        "timestamp": "2025-12-19T23:35:09Z"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:35:09.414Z",
      "updatedAt": "2025-12-19T23:35:09.414Z",
      "lastAccessedAt": "2025-12-19T23:35:59.775Z",
      "version": 1,
      "size": 248,
      "compressed": false,
      "checksum": "4d47bce6595a071ebabdafd851fb042b33fc67d718cb582ffd3f2d733100e87b",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdidfvf_rjg91iyli",
      "key": "task-core-003/repository",
      "value": {
        "status": "completed",
        "file": "src/database/repositories/user.repository.ts",
        "methods": [
          "create",
          "findById",
          "findByAuth0Id",
          "findByTenantAndEmail",
          "findByTenant",
          "update",
          "updateLastLogin",
          "deactivate"
        ],
        "timestamp": "2025-12-19T23:36:00Z",
        "agent": "Agent #4"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:36:34.971Z",
      "updatedAt": "2025-12-19T23:36:34.971Z",
      "lastAccessedAt": "2025-12-19T23:38:25.828Z",
      "version": 1,
      "size": 285,
      "compressed": false,
      "checksum": "3ea45cf0a45ed7fb5be74b9815c352d057f3d408b18e0bd32c3d4feb10b6e8ac",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdifmma_3a6cojj4v",
      "key": "task-core-003/exports",
      "value": {
        "status": "completed",
        "files": [
          "entities/index.ts",
          "dto/index.ts",
          "repositories/index.ts",
          "database.module.ts"
        ]
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:38:17.026Z",
      "updatedAt": "2025-12-19T23:38:17.026Z",
      "lastAccessedAt": "2025-12-19T23:38:17.026Z",
      "version": 1,
      "size": 141,
      "compressed": false,
      "checksum": "3fcb1ea67ee349a272ed66bf1f90dd2ec094533017fb546c8776ece3735bda2d",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdiiufn_erh76csxf",
      "key": "task-core-003/tests",
      "value": {
        "status": "completed",
        "file": "tests/database/repositories/user.repository.spec.ts",
        "testCount": 21,
        "coverage": "all 8 repository methods",
        "timestamp": "2025-12-19T23:41:00Z",
        "agent": "Agent #6"
      },
      "type": "object",
      "namespace": "default",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:40:47.123Z",
      "updatedAt": "2025-12-19T23:40:47.123Z",
      "lastAccessedAt": "2025-12-19T23:40:47.123Z",
      "version": 1,
      "size": 219,
      "compressed": false,
      "checksum": "1f7edaa2fa57c57d288d4fb6b787991478345dd42e69c51ed9ecd31dc0928f6e",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdikixu_m0rr11dps",
      "key": "task-core-003/complete",
      "value": {
        "status": "COMPLETED",
        "tests": 99,
        "e2e": 1,
        "build": "PASS",
        "lint": "PASS",
        "files": [
          "prisma/schema.prisma",
          "prisma/migrations/20251219233350_create_users/",
          "src/database/entities/user.entity.ts",
          "src/database/dto/user.dto.ts",
          "src/database/repositories/user.repository.ts",
          "tests/database/repositories/user.repository.spec.ts"
        ]
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-19T23:42:05.538Z",
      "updatedAt": "2025-12-19T23:42:05.538Z",
      "lastAccessedAt": "2025-12-19T23:42:05.538Z",
      "version": 1,
      "size": 352,
      "compressed": false,
      "checksum": "8f0209b93674dcf8ce49a6dbfef1ffa5830c71857f875b0bf86a581f5f5da4f5",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdktvzq_0yrdx3xo7",
      "key": "task/context",
      "value": {
        "taskId": "TASK-TRANS-001",
        "title": "Transaction Entity and Migration",
        "phase": "foundation",
        "status": "in_progress",
        "dependencies": [
          "TASK-CORE-002"
        ],
        "nextAgents": [
          "schema",
          "entity",
          "dto",
          "repository",
          "tests"
        ]
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:45:21.590Z",
      "updatedAt": "2025-12-20T00:45:21.590Z",
      "lastAccessedAt": "2025-12-20T00:45:21.590Z",
      "version": 1,
      "size": 236,
      "compressed": false,
      "checksum": "0c66c326aa8a4377ab39b9ba60cb87b49f724764a9ea17ca2fccf0b48b857bdd",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdkvc1i_jjikig08w",
      "key": "schema/transaction",
      "value": {
        "status": "done",
        "enums": [
          "ImportSource",
          "TransactionStatus"
        ],
        "model": "Transaction",
        "relation": "Tenant.transactions",
        "validation": "passed",
        "timestamp": "2025-12-20T00:46:28Z"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:46:29.046Z",
      "updatedAt": "2025-12-20T00:46:29.046Z",
      "lastAccessedAt": "2025-12-20T00:46:29.046Z",
      "version": 1,
      "size": 203,
      "compressed": false,
      "checksum": "5c39f767cccc75f831c81333dc03dbf7d99db57ab4663ce1916d32dd32215999",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdkwd5l_hgojc1rl6",
      "key": "migration/transaction",
      "value": {
        "status": "done",
        "migrationName": "20251220004708_create_transactions",
        "table": "transactions",
        "indexes": 4
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:47:17.145Z",
      "updatedAt": "2025-12-20T00:47:17.145Z",
      "lastAccessedAt": "2025-12-20T00:47:17.145Z",
      "version": 1,
      "size": 134,
      "compressed": false,
      "checksum": "43ef236c22e0eb96b740df9b5173abcd9e580809d56ccc5369bbe8c8cdbdb992",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdkxah0_v3m7srnx5",
      "key": "entity/transaction",
      "value": {
        "status": "done",
        "file": "transaction.entity.ts",
        "exports": [
          "ImportSource",
          "TransactionStatus",
          "ITransaction"
        ],
        "location": "/home/smash/Documents/dev-env/Playground/ruv/crechebooks/src/database/entities/transaction.entity.ts"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:48:00.324Z",
      "updatedAt": "2025-12-20T00:48:00.324Z",
      "lastAccessedAt": "2025-12-20T00:48:00.324Z",
      "version": 1,
      "size": 253,
      "compressed": false,
      "checksum": "7980f13297f614ee77af70fc81b5c05a057550671976ec48606836a40538e833",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdkyjgl_gbwk8kuzc",
      "key": "dto/transaction",
      "value": {
        "status": "done",
        "file": "transaction.dto.ts",
        "exports": [
          "CreateTransactionDto",
          "UpdateTransactionDto",
          "TransactionFilterDto"
        ],
        "location": "/home/smash/Documents/dev-env/Playground/ruv/crechebooks/src/database/dto/transaction.dto.ts"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:48:58.629Z",
      "updatedAt": "2025-12-20T00:48:58.629Z",
      "lastAccessedAt": "2025-12-20T00:48:58.629Z",
      "version": 1,
      "size": 261,
      "compressed": false,
      "checksum": "7c4772f5f1f02a728e35baef5a3245900ca7d61c681d85ae7253eadb6aed9e14",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdl0x4s_qud950516",
      "key": "repository/transaction",
      "value": {
        "status": "done",
        "file": "transaction.repository.ts",
        "methods": [
          "create",
          "findById",
          "findByTenant",
          "findPending",
          "update",
          "softDelete",
          "markReconciled"
        ],
        "location": "/home/smash/Documents/dev-env/Playground/ruv/crechebooks/src/database/repositories/transaction.repository.ts",
        "patterns": [
          "multi-tenant isolation",
          "soft delete",
          "error handling",
          "logging",
          "pagination"
        ]
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:50:49.660Z",
      "updatedAt": "2025-12-20T00:50:49.660Z",
      "lastAccessedAt": "2025-12-20T00:50:49.660Z",
      "version": 1,
      "size": 395,
      "compressed": false,
      "checksum": "fea1693011ee32f9c0f1a176010df402a2a82a674622cd3c78c93649f2f89d96",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdl56sh_xvgcddkpa",
      "key": "tests/transaction",
      "value": {
        "status": "done",
        "file": "transaction.repository.spec.ts",
        "testCount": 22,
        "categories": [
          "initialization",
          "create",
          "findById",
          "findByTenant",
          "findPending",
          "update",
          "softDelete",
          "markReconciled"
        ],
        "patterns": [
          "real_database",
          "no_mocks",
          "multi_tenant_isolation",
          "soft_delete",
          "south_african_context"
        ],
        "location": "/home/smash/Documents/dev-env/Playground/ruv/crechebooks/tests/database/repositories/transaction.repository.spec.ts"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:54:08.801Z",
      "updatedAt": "2025-12-20T00:54:08.801Z",
      "lastAccessedAt": "2025-12-20T00:54:08.801Z",
      "version": 1,
      "size": 453,
      "compressed": false,
      "checksum": "e2aa3669433794982716262a27d02840a257b777b4c116f15a1273b9c3800a4b",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdl8gh9_gemx5qc7w",
      "key": "task/TASK-TRANS-001/complete",
      "value": {
        "status": "completed",
        "taskId": "TASK-TRANS-001",
        "title": "Transaction Entity and Migration",
        "completedAt": "2025-12-20T00:56:00Z",
        "verification": {
          "build": "pass",
          "lint": "pass",
          "unitTests": "141 passed",
          "e2eTests": "1 passed"
        },
        "artifacts": {
          "schema": "prisma/schema.prisma",
          "migration": "prisma/migrations/20251220004708_create_transactions",
          "entity": "src/database/entities/transaction.entity.ts",
          "dto": "src/database/dto/transaction.dto.ts",
          "repository": "src/database/repositories/transaction.repository.ts",
          "tests": "tests/database/repositories/transaction.repository.spec.ts"
        }
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T00:56:41.325Z",
      "updatedAt": "2025-12-20T00:56:41.325Z",
      "lastAccessedAt": "2025-12-20T00:56:41.325Z",
      "version": 1,
      "size": 598,
      "compressed": false,
      "checksum": "ab79ae5100261599f87e3ae7a3e823ae2d927b89285cb02886d7c12900a5bdea",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdm2wtb_s6sgdjy0k",
      "key": "trans002/context",
      "value": {
        "task": "TASK-TRANS-002",
        "description": "Categorization Entity and Types",
        "dependencies": [
          "TASK-TRANS-001"
        ],
        "status": "in_progress",
        "startedAt": "2025-12-20T03:20:21+02:00"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T01:20:22.175Z",
      "updatedAt": "2025-12-20T01:20:22.175Z",
      "lastAccessedAt": "2025-12-20T01:20:22.175Z",
      "version": 1,
      "size": 199,
      "compressed": false,
      "checksum": "67f0a15172d702defbf9b45a9117d0b485db303be378f553aec18ffa3ec29451",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdm4siy_tuedfxnsu",
      "key": "trans002/schema",
      "value": {
        "migrationName": "20251220012120_create_categorizations",
        "enums": [
          "VatType",
          "CategorizationSource"
        ],
        "model": "Categorization",
        "relations": {
          "Transaction": "categorizations",
          "User": "reviewedCategorizations"
        },
        "status": "complete"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T01:21:49.930Z",
      "updatedAt": "2025-12-20T01:21:49.930Z",
      "lastAccessedAt": "2025-12-20T01:21:49.930Z",
      "version": 1,
      "size": 253,
      "compressed": false,
      "checksum": "6f42bbb094ff7ddf665747be5809b2b4e5641c7f6251ba6f24583e048e3e8da6",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjdmdfsb_5ipaawmxy",
      "key": "trans002/result",
      "value": {
        "status": "COMPLETED",
        "migration": "20251220012120_create_categorizations",
        "testsTotal": 169,
        "testsPassed": 169,
        "testsFailed": 0,
        "categorizationTests": 28,
        "files": {
          "created": [
            "src/database/entities/categorization.entity.ts",
            "src/database/dto/categorization.dto.ts",
            "src/database/repositories/categorization.repository.ts",
            "tests/database/repositories/categorization.repository.spec.ts"
          ],
          "modified": [
            "prisma/schema.prisma",
            "src/database/entities/index.ts",
            "src/database/dto/index.ts",
            "src/database/repositories/index.ts",
            "tests/database/repositories/tenant.repository.spec.ts",
            "tests/database/repositories/user.repository.spec.ts",
            "tests/database/repositories/transaction.repository.spec.ts"
          ]
        }
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T01:28:33.323Z",
      "updatedAt": "2025-12-20T01:28:33.323Z",
      "lastAccessedAt": "2025-12-20T01:28:33.323Z",
      "version": 1,
      "size": 717,
      "compressed": false,
      "checksum": "891f438ce835ef2585c6887422a3de26259a7ea97b207373bdb034d6f17f0315",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjed83r6_j9qmvscie",
      "key": "sars-submission/task-context",
      "value": {
        "taskId": "TASK-SARS-002",
        "title": "SarsSubmission Entity",
        "dependencies": [
          "TASK-CORE-002",
          "TASK-CORE-003"
        ],
        "status": "in_progress"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T14:00:14.082Z",
      "updatedAt": "2025-12-20T14:00:14.082Z",
      "lastAccessedAt": "2025-12-20T14:00:14.082Z",
      "version": 1,
      "size": 159,
      "compressed": false,
      "checksum": "c762da21d57586a7351726975da64917d36f51d7933aaa25b553a6526a7fde15",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjeh1wa8_snmgtk2mk",
      "key": "agent1/schema",
      "value": {
        "model": "XeroToken",
        "migration": "add_xero_tokens",
        "migrationTimestamp": "20251220154623",
        "status": "complete",
        "tenantRelationAdded": true,
        "testsPass": true,
        "schemaLocation": "/home/smash/Documents/dev-env/Playground/ruv/crechebooks/prisma/schema.prisma",
        "migrationLocation": "/home/smash/Documents/dev-env/Playground/ruv/crechebooks/prisma/migrations/20251220154623_add_xero_tokens/migration.sql"
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T15:47:22.928Z",
      "updatedAt": "2025-12-20T15:47:22.928Z",
      "lastAccessedAt": "2025-12-20T16:01:35.212Z",
      "version": 1,
      "size": 421,
      "compressed": false,
      "checksum": "782d6cbf6cbd94a415033b8a406a5074738790b25a9b4ebdc4af53d2818f6210",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjehi022_cctmabkwg",
      "key": "agent2/deps",
      "value": {
        "packages": [
          "xero-node",
          "@modelcontextprotocol/sdk",
          "crypto-js",
          "@types/crypto-js"
        ],
        "status": "installed",
        "directories": [
          "src/mcp/xero-mcp/auth",
          "src/mcp/xero-mcp/tools",
          "src/mcp/xero-mcp/types",
          "src/mcp/xero-mcp/utils",
          "tests/mcp/xero-mcp/tools"
        ],
        "envUpdated": true,
        "packageJsonUpdated": true
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T15:59:54.314Z",
      "updatedAt": "2025-12-20T15:59:54.314Z",
      "lastAccessedAt": "2025-12-20T16:01:39.392Z",
      "version": 1,
      "size": 321,
      "compressed": false,
      "checksum": "43cb2a6ad3609bf85addbcd5a9a0bc6f5eff558a1029d7ea28cf061591ef84f5",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjehmq5c_0y9mo7b7u",
      "key": "agent3/types",
      "value": {
        "files": [
          "src/mcp/xero-mcp/types/xero.types.ts",
          "src/mcp/xero-mcp/types/mcp.types.ts",
          "src/mcp/xero-mcp/types/index.ts"
        ],
        "status": "complete",
        "typesCreated": [
          "XeroAccount",
          "XeroTransaction",
          "XeroContact",
          "XeroInvoice",
          "XeroPayment",
          "XeroTokenSet",
          "GetAccountsInput",
          "GetTransactionsInput",
          "UpdateTransactionInput",
          "CreateInvoiceInput",
          "CreateInvoiceLineItem",
          "GetInvoicesInput",
          "ApplyPaymentInput",
          "GetContactsInput",
          "CreateContactInput",
          "UpdateTransactionResult",
          "CreatedInvoice",
          "CreatedPayment",
          "CreatedContact",
          "MCPErrorResponse"
        ],
        "constitutionCompliance": {
          "noAnyTypes": true,
          "monetaryFieldsInCents": 11,
          "kebabCaseFiles": true,
          "pascalCaseTypes": true
        },
        "lineCount": 178
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T16:03:34.752Z",
      "updatedAt": "2025-12-20T16:03:34.752Z",
      "lastAccessedAt": "2025-12-20T16:03:42.896Z",
      "version": 1,
      "size": 697,
      "compressed": false,
      "checksum": "e2ef372e297bcc8f15e1d8f58431160499da6120df2f8682dfaadc6ddf3920d6",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjehqgs1_t2scay1q2",
      "key": "agent4/utils",
      "value": {
        "files": [
          "src/mcp/xero-mcp/utils/error-handler.ts",
          "src/mcp/xero-mcp/utils/rate-limiter.ts",
          "src/mcp/xero-mcp/utils/logger.ts",
          "src/mcp/xero-mcp/utils/index.ts"
        ],
        "classes": [
          "XeroMCPError",
          "TokenExpiredError",
          "TokenNotFoundError",
          "RateLimitError",
          "XeroAPIError",
          "EncryptionError",
          "RateLimiter",
          "Logger"
        ],
        "status": "complete",
        "timestamp": "2025-12-20T00:00:00.000Z"
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T16:06:29.233Z",
      "updatedAt": "2025-12-20T16:06:29.233Z",
      "lastAccessedAt": "2025-12-20T16:06:29.233Z",
      "version": 1,
      "size": 392,
      "compressed": false,
      "checksum": "66a26a6a48e5403c6c8288a6a5a80c7880bfe98ddd4fd2c19f99442a11d24e51",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjehtkbq_gwzm9hjg3",
      "key": "agent5/auth",
      "value": {
        "files": [
          "src/mcp/xero-mcp/auth/encryption.ts",
          "src/mcp/xero-mcp/auth/token-manager.ts",
          "src/mcp/xero-mcp/auth/index.ts"
        ],
        "classes": [
          "Encryption",
          "TokenManager"
        ],
        "interface": "TokenSet",
        "status": "complete",
        "features": [
          "AES-256 encryption",
          "OAuth2 token management",
          "Atomic token refresh with mutex",
          "5-minute refresh buffer",
          "Tenant token storage",
          "Token expiry checking"
        ],
        "dependencies": [
          "crypto-js",
          "xero-node",
          "@prisma/client"
        ]
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T16:08:53.798Z",
      "updatedAt": "2025-12-20T16:08:53.798Z",
      "lastAccessedAt": "2025-12-20T16:08:53.798Z",
      "version": 1,
      "size": 460,
      "compressed": false,
      "checksum": "be0ba540df3da8ba96b7e196e885e9c95090b461bc32bc3576e27eafc3cc3e9c",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjehygho_1jbigsjr6",
      "key": "agent6/tools",
      "value": {
        "files": [
          "get-accounts.ts",
          "get-transactions.ts",
          "update-transaction.ts",
          "create-invoice.ts",
          "get-invoices.ts",
          "apply-payment.ts",
          "get-contacts.ts",
          "create-contact.ts",
          "index.ts"
        ],
        "toolCount": 8,
        "status": "complete",
        "timestamp": "2025-12-20T18:12:41+02:00"
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T16:12:42.108Z",
      "updatedAt": "2025-12-20T16:12:42.108Z",
      "lastAccessedAt": "2025-12-20T16:12:42.108Z",
      "version": 1,
      "size": 284,
      "compressed": false,
      "checksum": "7a8643c04da4c046ddbec1a797bc0095bb1269ddea48c18ade812e2efa7e6db5",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjei2gye_wzppwg43m",
      "key": "agent7/server",
      "value": {
        "files": [
          "src/mcp/xero-mcp/config.ts",
          "src/mcp/xero-mcp/server.ts",
          "src/mcp/xero-mcp/index.ts"
        ],
        "class": "XeroMCPServer",
        "toolsRegistered": 8,
        "status": "complete"
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T16:15:49.334Z",
      "updatedAt": "2025-12-20T16:15:49.334Z",
      "lastAccessedAt": "2025-12-20T16:15:49.334Z",
      "version": 1,
      "size": 190,
      "compressed": false,
      "checksum": "cdd6591cd80b5c01789322a57be27bc7f49e5e463e044043adbe12abe8d89095",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjei6dvi_1bj2wszdc",
      "key": "agent8/tests",
      "value": {
        "files": [
          "tests/mcp/xero-mcp/rate-limiter.spec.ts",
          "tests/mcp/xero-mcp/token-manager.spec.ts",
          "tests/mcp/xero-mcp/tools/get-accounts.spec.ts"
        ],
        "testCount": 20,
        "status": "complete",
        "patterns": [
          "real_database_integration",
          "no_mocks",
          "fk_order_cleanup",
          "xero_token_cleanup",
          "fail_fast_validation"
        ],
        "coverage": {
          "rateLimiter": 7,
          "tokenManager": 10,
          "toolValidation": 3
        }
      },
      "type": "object",
      "namespace": "mcp-001",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T16:18:51.966Z",
      "updatedAt": "2025-12-20T16:18:51.966Z",
      "lastAccessedAt": "2025-12-20T16:18:51.966Z",
      "version": 1,
      "size": 389,
      "compressed": false,
      "checksum": "89973f4ec15ee9b77fca47556f89bb3e31888ea747aa0ff7ea49ae5613cd806d",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjekgxy8_eqn3zej2u",
      "key": "trans011/phase1",
      "value": {
        "dependencies_installed": true,
        "packages": [
          "csv-parse",
          "pdf-parse",
          "@nestjs/bull",
          "@types/pdf-parse"
        ],
        "tests_passing": false,
        "test_failures": 406,
        "test_passes": 225,
        "note": "Database connection issues in tests - 17 test suites failing"
      },
      "type": "object",
      "namespace": "project",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T17:23:03.776Z",
      "updatedAt": "2025-12-20T17:23:03.776Z",
      "lastAccessedAt": "2025-12-20T17:25:40.688Z",
      "version": 1,
      "size": 261,
      "compressed": false,
      "checksum": "9c61675d16e58af22111efe98ba2d94280db86dd7b374ecccbe04fc268ccbdcd",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjekkw3c_h5anj5yd3",
      "key": "trans011/phase2",
      "value": {
        "file": "src/database/dto/import.dto.ts",
        "interfaces": [
          "ParsedTransaction",
          "ImportResult",
          "DuplicateCheckResult",
          "ImportError"
        ],
        "classes": [
          "ImportFileDto"
        ],
        "completed": true,
        "timestamp": "2025-12-20T19:26:07+02:00"
      },
      "type": "object",
      "namespace": "project",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T17:26:07.992Z",
      "updatedAt": "2025-12-20T17:26:07.992Z",
      "lastAccessedAt": "2025-12-20T17:27:23.195Z",
      "version": 1,
      "size": 242,
      "compressed": false,
      "checksum": "6d049bae8a78d0e7bb91f5d9fbd36266e594164446be458620cc8334f3824b2a",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjeknu2g_p56snetyb",
      "key": "trans011/phase3",
      "value": {
        "file": "src/database/parsers/parse-utils.ts",
        "functions": [
          "parseCurrency",
          "parseDate",
          "extractPayeeName"
        ],
        "completed": true,
        "timestamp": "2025-12-20T19:27:23+02:00"
      },
      "type": "object",
      "namespace": "project",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T17:28:25.336Z",
      "updatedAt": "2025-12-20T17:28:25.336Z",
      "lastAccessedAt": "2025-12-20T17:29:34.108Z",
      "version": 1,
      "size": 193,
      "compressed": false,
      "checksum": "ae54968a5f26586b663ad5503e0de0cefd8a7fdb7ac98a81b53001cd680cca91",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjekqc0n_s6j2f1h1c",
      "key": "trans011/phase4",
      "value": {
        "file": "src/database/parsers/csv-parser.ts",
        "class": "CsvParser",
        "method": "parse",
        "completed": true,
        "timestamp": "2025-12-20T19:29:00+02:00"
      },
      "type": "object",
      "namespace": "project",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T17:30:21.911Z",
      "updatedAt": "2025-12-20T17:30:21.911Z",
      "lastAccessedAt": "2025-12-20T17:31:30.813Z",
      "version": 1,
      "size": 168,
      "compressed": false,
      "checksum": "cb5a58f08b31d368b3ad62bb0cc35cd0c487609994ba0c4af4701b6be3a6e8ce",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjekt80l_pvkzkit8m",
      "key": "trans011/phase5",
      "value": {
        "file": "src/database/parsers/pdf-parser.ts",
        "class": "PdfParser",
        "banks": [
          "Standard Bank",
          "FNB",
          "ABSA"
        ],
        "completed": true,
        "timestamp": "2025-12-20T19:33:00+02:00"
      },
      "type": "object",
      "namespace": "project",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T17:32:36.693Z",
      "updatedAt": "2025-12-20T17:32:36.693Z",
      "lastAccessedAt": "2025-12-20T17:32:36.693Z",
      "version": 1,
      "size": 190,
      "compressed": false,
      "checksum": "25e1db791b6a66901945e73e294dab68dc52470378074edba81ea64ef86bbc03",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjevgisu_y0ajw2izy",
      "key": "task/context",
      "value": {
        "taskId": "TASK-PAY-012",
        "title": "Payment Allocation Service",
        "status": "started",
        "timestamp": "2025-12-21T00:00:00Z"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T22:30:39.918Z",
      "updatedAt": "2025-12-20T22:30:39.918Z",
      "lastAccessedAt": "2025-12-20T22:30:39.918Z",
      "version": 1,
      "size": 145,
      "compressed": false,
      "checksum": "cf36a479deb34ff7667d8e0a422177751620a646d16f3d9c0c8fcbb5e2961ca5",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjevjdxc_jztrypway",
      "key": "analysis/payment-allocation-patterns",
      "value": "{\n  \"timestamp\": \"2025-12-21T00:32:53+02:00\",\n  \"patterns\": {\n    \"servicePattern\": {\n      \"imports\": [\n        \"Injectable, Logger from @nestjs/common\",\n        \"Entity types from @prisma/client\",\n        \"PrismaService from ../prisma/prisma.service\",\n        \"PaymentRepository, InvoiceRepository from ../repositories\",\n        \"AuditLogService from ./audit-log.service\",\n        \"DTOs and entity enums from ../dto and ../entities\"\n      ],\n      \"constructor\": {\n        \"decorator\": \"@Injectable()\",\n        \"parameters\": [\n          \"private readonly prisma: PrismaService\",\n          \"private readonly paymentRepo: PaymentRepository\",\n          \"private readonly invoiceRepo: InvoiceRepository\",\n          \"private readonly auditLogService: AuditLogService\"\n        ],\n        \"logger\": \"private readonly logger = new Logger(ClassName.name);\"\n      },\n      \"pattern\": \"Dependency injection via NestJS constructor, Logger initialized with class name\"\n    },\n    \"dtoPattern\": {\n      \"validationDecorators\": [\n        \"@IsUUID() - for tenant/transaction/invoice IDs\",\n        \"@IsArray() - for arrays\",\n        \"@IsOptional() - for optional fields\",\n        \"@IsInt() - for amount integers\",\n        \"@Min(1) - for minimum values\"\n      ],\n      \"structure\": {\n        \"required_fields\": \"Marked with \\! property assertion\",\n        \"optional_fields\": \"Marked with @IsOptional()\",\n        \"export_format\": \"Named exports for interfaces and classes\"\n      }\n    },\n    \"exceptionHandling\": {\n      \"businessException\": \"throw new BusinessException(message, code, details?)\",\n      \"notFoundException\": \"throw new NotFoundException(resource, identifier)\",\n      \"conflictException\": \"throw new ConflictException(message, details?)\",\n      \"databaseException\": \"throw new DatabaseException(operation, message, originalError?)\",\n      \"pattern\": \"All throw with clear error messages and optional details object\"\n    },\n    \"auditLogging\": {\n      \"method\": \"this.auditLogService.logAction(params)\",\n      \"interface\": {\n        \"required\": [\"tenantId\", \"entityType\", \"entityId\", \"action\"],\n        \"optional\": [\"userId\", \"agentId\", \"beforeValue\", \"afterValue\", \"changeSummary\", \"ipAddress\", \"userAgent\"]\n      },\n      \"example\": {\n        \"code\": \"await this.auditLogService.logAction({ tenantId, entityType: Payment, entityId: payment.id, action: AuditAction.CREATE, afterValue: {...}, changeSummary: ... })\"\n      }\n    }\n  },\n  \"paymentRepositoryMethods\": {\n    \"create\": \"async create(dto: CreatePaymentDto): Promise<Payment>\",\n    \"findById\": \"async findById(id: string): Promise<Payment | null>\",\n    \"findByXeroPaymentId\": \"async findByXeroPaymentId(xeroPaymentId: string): Promise<Payment | null>\",\n    \"findByTransactionId\": \"async findByTransactionId(transactionId: string): Promise<Payment[]>\",\n    \"findByInvoiceId\": \"async findByInvoiceId(invoiceId: string): Promise<Payment[]>\",\n    \"findByTenantId\": \"async findByTenantId(tenantId: string, filter?: PaymentFilterDto): Promise<Payment[]>\",\n    \"update\": \"async update(id: string, dto: UpdatePaymentDto): Promise<Payment>\",\n    \"reverse\": \"async reverse(id: string, dto: ReversePaymentDto): Promise<Payment>\",\n    \"delete\": \"async delete(id: string): Promise<void>\",\n    \"calculateTotalPaidForInvoice\": \"async calculateTotalPaidForInvoice(invoiceId: string): Promise<number>\",\n    \"findActiveByTenantId\": \"async findActiveByTenantId(tenantId: string): Promise<Payment[]>\",\n    \"description\": \"All methods include try-catch error handling with NotFoundException, ConflictException, and DatabaseException\"\n  },\n  \"invoiceRepositoryMethods\": {\n    \"create\": \"async create(dto: CreateInvoiceDto): Promise<Invoice>\",\n    \"findById\": \"async findById(id: string): Promise<Invoice | null>\",\n    \"findByIdWithLines\": \"async findByIdWithLines(id: string): Promise<Invoice & {lines: InvoiceLine[]} | null>\",\n    \"findByTenant\": \"async findByTenant(tenantId: string, filter: InvoiceFilterDto): Promise<Invoice[]>\",\n    \"findByInvoiceNumber\": \"async findByInvoiceNumber(tenantId: string, invoiceNumber: string): Promise<Invoice | null>\",\n    \"findByParent\": \"async findByParent(tenantId: string, parentId: string): Promise<Invoice[]>\",\n    \"findByChild\": \"async findByChild(tenantId: string, childId: string): Promise<Invoice[]>\",\n    \"findByStatus\": \"async findByStatus(tenantId: string, status: InvoiceStatus): Promise<Invoice[]>\",\n    \"findOverdue\": \"async findOverdue(tenantId: string): Promise<Invoice[]>\",\n    \"update\": \"async update(id: string, dto: UpdateInvoiceDto): Promise<Invoice>\",\n    \"softDelete\": \"async softDelete(id: string): Promise<Invoice>\",\n    \"delete\": \"async delete(id: string): Promise<void>\",\n    \"findLastInvoiceForYear\": \"async findLastInvoiceForYear(tenantId: string, year: number): Promise<Invoice | null>\",\n    \"findByBillingPeriod\": \"async findByBillingPeriod(tenantId: string, childId: string, start: Date, end: Date): Promise<Invoice | null>\",\n    \"updateDeliveryStatus\": \"async updateDeliveryStatus(id: string, status: string, deliveredAt?: Date): Promise<Invoice>\",\n    \"recordPayment\": \"async recordPayment(id: string, amountCents: number): Promise<Invoice>\",\n    \"findByDeliveryStatus\": \"async findByDeliveryStatus(tenantId: string, status: string, cutoffDate?: Date): Promise<Invoice[]>\",\n    \"incrementDeliveryRetryCount\": \"async incrementDeliveryRetryCount(id: string): Promise<Invoice>\",\n    \"description\": \"recordPayment updates amountPaidCents and automatically sets status to PAID/PARTIALLY_PAID\"\n  },\n  \"paymentEnums\": {\n    \"MatchType\": {\n      \"EXACT\": \"Reference and amount both match exactly\",\n      \"PARTIAL\": \"Fuzzy match with confidence scoring\",\n      \"MANUAL\": \"User manually selected the match\",\n      \"OVERPAYMENT\": \"Payment exceeds invoice amount\"\n    },\n    \"MatchedBy\": {\n      \"AI_AUTO\": \"Automatically matched by confidence algorithm\",\n      \"USER\": \"Manually matched by user selection\"\n    }\n  },\n  \"invoiceEnums\": {\n    \"InvoiceStatus\": {\n      \"DRAFT\": \"Not yet sent to parent\",\n      \"SENT\": \"Sent but not opened\",\n      \"VIEWED\": \"Parent has viewed it\",\n      \"PARTIALLY_PAID\": \"Some payment received\",\n      \"PAID\": \"Fully paid\",\n      \"OVERDUE\": \"Past due date and not paid\",\n      \"VOID\": \"Cancelled/voided invoice\"\n    }\n  },\n  \"moduleRegistration\": {\n    \"pattern\": \"Services added to providers array and exports array in DatabaseModule\",\n    \"location\": \"src/database/database.module.ts\",\n    \"exports\": \"All services must be exported from DatabaseModule for use in other modules\"\n  }\n}",
      "type": "string",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T22:32:53.568Z",
      "updatedAt": "2025-12-20T22:32:53.568Z",
      "lastAccessedAt": "2025-12-20T22:42:20.311Z",
      "version": 1,
      "size": 7809,
      "compressed": true,
      "checksum": "4a2097272d0b4a99d4aaba677439bf6630615175ef9badd6a3cc301eb4aaea6a",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjevmq79_dsslk47ux",
      "key": "dto/payment-allocation",
      "value": {
        "created": true,
        "path": "src/database/dto/payment-allocation.dto.ts",
        "exports": [
          "AllocationDto",
          "AllocatePaymentDto",
          "ReverseAllocationDto",
          "AllocationResult",
          "AllocationError",
          "XeroSyncStatus"
        ],
        "timestamp": "2025-12-21T00:35:00+02:00",
        "validation": {
          "allAmountsInCents": true,
          "classValidatorDecorators": true,
          "exportedToIndex": true
        }
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T22:35:29.445Z",
      "updatedAt": "2025-12-20T22:35:29.445Z",
      "lastAccessedAt": "2025-12-20T22:37:19.074Z",
      "version": 1,
      "size": 358,
      "compressed": false,
      "checksum": "03d660db3b35af567817f9d254c2308e09c81c5cb97b69ce034e7fe5f50fe27f",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjevrocg_c36zwh5zw",
      "key": "service/payment-allocation",
      "value": {
        "created": true,
        "path": "src/database/services/payment-allocation.service.ts",
        "methods": [
          "allocatePayment",
          "allocateToMultipleInvoices",
          "handleOverpayment",
          "handlePartialPayment",
          "reverseAllocation"
        ],
        "privateHelpers": [
          "validateAllocations",
          "syncToXero"
        ],
        "dependencies": [
          "PrismaService",
          "PaymentRepository",
          "InvoiceRepository",
          "TransactionRepository",
          "AuditLogService"
        ],
        "usesDecimalJs": true,
        "allAmountsInCents": true,
        "tenantIsolation": true,
        "auditLogging": true,
        "timestamp": "2025-12-21T00:40:00+02:00"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T22:39:20.320Z",
      "updatedAt": "2025-12-20T22:39:20.320Z",
      "lastAccessedAt": "2025-12-20T22:42:15.897Z",
      "version": 1,
      "size": 526,
      "compressed": false,
      "checksum": "2bb73486593e160b5d4c9816aed939ad70df414e508da5e63a4048a33a61a606",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjevylb1_k6zffxs22",
      "key": "tests/payment-allocation",
      "value": {
        "created": true,
        "path": "tests/database/services/payment-allocation.service.spec.ts",
        "testCount": 33,
        "testCategories": [
          "initialization",
          "exactMatch",
          "partialPayment",
          "overpayment",
          "multiInvoice",
          "reversal",
          "validation",
          "paymentDetails",
          "complexScenarios",
          "edgeCases"
        ],
        "realDatabase": true,
        "allTestsPassWithActualDB": true,
        "timestamp": "2025-12-21T00:42:00+02:00"
      },
      "type": "object",
      "namespace": "crechebooks",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T22:44:42.973Z",
      "updatedAt": "2025-12-20T22:44:42.973Z",
      "lastAccessedAt": "2025-12-20T22:44:42.973Z",
      "version": 1,
      "size": 387,
      "compressed": false,
      "checksum": "241510307bf3e2a1696c2b5d5b5a8a237f24dd019f098f219b0dd57379c234d5",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjewyu7i_1whzi42na",
      "key": "agent1/service-pattern",
      "value": {
        "imports": [
          "@nestjs/common",
          "Decimal",
          "@prisma/client",
          "repositories",
          "services"
        ],
        "constructor": "private readonly logger + 5 dependencies",
        "decorators": "@Injectable()",
        "errorHandling": "try-catch with logger.error and custom exceptions"
      },
      "type": "object",
      "namespace": "arrears",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:12:54.126Z",
      "updatedAt": "2025-12-20T23:12:54.126Z",
      "lastAccessedAt": "2025-12-20T23:12:54.126Z",
      "version": 1,
      "size": 266,
      "compressed": false,
      "checksum": "7179657888ef824e4faa709ed286b054bb8b135d834dfa75ece5bb01bc3998a8",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjewyxlf_2gx6lhmel",
      "key": "agent1/dto-pattern",
      "value": {
        "decorators": [
          "@IsUUID",
          "@IsArray",
          "@ValidateNested",
          "@IsInt",
          "@Min",
          "@IsOptional",
          "@IsString",
          "@MinLength"
        ],
        "transformer": "@Type(() => DTO)",
        "interfaces": "AllocationError, AllocationResult",
        "enums": "XeroSyncStatus"
      },
      "type": "object",
      "namespace": "arrears",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:12:58.515Z",
      "updatedAt": "2025-12-20T23:12:58.515Z",
      "lastAccessedAt": "2025-12-20T23:13:58.428Z",
      "version": 1,
      "size": 246,
      "compressed": false,
      "checksum": "0f01fe147a17a49317ce1ed65d402a5ede024c603c8e61adf05d46d668614745",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjewz0yr_3g0j6a7mu",
      "key": "agent1/module-pattern",
      "value": {
        "providers": [
          "repositories",
          "services"
        ],
        "exports": "same as providers",
        "imports": "EmailModule, WhatsAppModule",
        "structure": "consistent array format"
      },
      "type": "object",
      "namespace": "arrears",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:13:02.883Z",
      "updatedAt": "2025-12-20T23:13:02.883Z",
      "lastAccessedAt": "2025-12-20T23:13:02.883Z",
      "version": 1,
      "size": 178,
      "compressed": false,
      "checksum": "be48e84e903423e28ab0928537d179dc621bca96964f1f4b20320707516e14a7",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjex12ky_63s5798m2",
      "key": "agent2/dto-complete",
      "value": {
        "file": "src/database/dto/arrears.dto.ts",
        "types": [
          "ArrearsFiltersDto",
          "AgingBucketType",
          "AgingBuckets",
          "ArrearsReportSummary",
          "DebtorSummary",
          "ArrearsInvoice",
          "ArrearsReport",
          "PaymentHistoryEntry",
          "ParentPaymentHistory"
        ],
        "exported": true,
        "timestamp": "2025-12-21T01:14:00.000Z"
      },
      "type": "object",
      "namespace": "arrears",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:14:38.290Z",
      "updatedAt": "2025-12-20T23:14:38.290Z",
      "lastAccessedAt": "2025-12-20T23:14:38.290Z",
      "version": 1,
      "size": 306,
      "compressed": false,
      "checksum": "1a712a2081a47d30b72e9125e919cba7e3ae8cf76c525808a27805bef80c0a68",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjex4ncq_q5lcy3b17",
      "key": "agent3/service-complete",
      "value": {
        "file": "src/database/services/arrears.service.ts",
        "methods": [
          "getArrearsReport",
          "calculateAging",
          "getParentHistory",
          "getTopDebtors",
          "exportArrearsCSV"
        ],
        "timestamp": "2025-12-21T01:17:24+02:00",
        "notes": "Service uses Decimal.js, proper error handling, raw SQL for getTopDebtors, tenant isolation in all queries"
      },
      "type": "object",
      "namespace": "arrears",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:17:25.178Z",
      "updatedAt": "2025-12-20T23:17:25.178Z",
      "lastAccessedAt": "2025-12-20T23:17:25.178Z",
      "version": 1,
      "size": 339,
      "compressed": false,
      "checksum": "f757f20bd4e189acf08a2404c9f2cdbe821fd14dceac29dbcb1856c5719dfd65",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjex6vuc_wg583c5me",
      "key": "agent3/handoff-notes",
      "value": "{\"service_file\":\"src/database/services/arrears.service.ts\",\"exported_in\":\"src/database/services/index.ts\",\"methods_implemented\":[{\"name\":\"getArrearsReport\",\"returns\":\"ArrearsReport\",\"parameters\":[\"tenantId: string\",\"filters?: ArrearsFiltersDto\"],\"description\":\"Main report with summary, top debtors, and invoices\"},{\"name\":\"calculateAging\",\"returns\":\"AgingBuckets\",\"parameters\":[\"invoices: InvoiceWithRelations[]\"],\"description\":\"Calculates aging buckets (current, 30, 60, 90+)\"},{\"name\":\"getParentHistory\",\"returns\":\"ParentPaymentHistory\",\"parameters\":[\"parentId: string\",\"tenantId: string\"],\"description\":\"Complete payment history with on-time/late stats\"},{\"name\":\"getTopDebtors\",\"returns\":\"DebtorSummary[]\",\"parameters\":[\"tenantId: string\",\"limit?: number\"],\"description\":\"Top debtors using raw SQL for performance\"},{\"name\":\"exportArrearsCSV\",\"returns\":\"string\",\"parameters\":[\"tenantId: string\",\"filters?: ArrearsFiltersDto\"],\"description\":\"CSV export with proper escaping\"}],\"dependencies\":[\"PrismaService\",\"InvoiceRepository\",\"PaymentRepository\",\"ParentRepository\"],\"key_features\":[\"Uses Decimal.js with ROUND_HALF_EVEN for all calculations\",\"Tenant isolation in all queries\",\"Raw SQL for getTopDebtors performance optimization\",\"Comprehensive error handling with DatabaseException\",\"Read-only service - no audit log required\",\"CSV export with proper value escaping\",\"Aging buckets: current (0-7), 30 (8-30), 60 (31-60), 90+ (61+)\",\"All amounts in cents throughout\"],\"next_steps_for_agent4\":\"Add ArrearsService to DatabaseModule providers\",\"next_steps_for_agent5\":\"Create arrears.service.spec.ts with comprehensive tests\"}",
      "type": "object",
      "namespace": "arrears",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:19:09.492Z",
      "updatedAt": "2025-12-20T23:19:09.492Z",
      "lastAccessedAt": "2025-12-20T23:19:09.492Z",
      "version": 1,
      "size": 1793,
      "compressed": true,
      "checksum": "8b388ebc7c84cbfa69558825004618e5672410d27010ade6129d6d8aaf779025",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjey9yr1_6ujttxucm",
      "key": "agent1/schema",
      "value": {
        "enums": [
          "EscalationLevel",
          "ReminderStatus"
        ],
        "model": "Reminder",
        "relations": [
          "Tenant",
          "Invoice",
          "Parent"
        ],
        "migration": "add_reminders",
        "status": "SUCCESS",
        "timestamp": "2025-12-20T23:49:12Z"
      },
      "type": "object",
      "namespace": "task-pay-014",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:49:32.845Z",
      "updatedAt": "2025-12-20T23:49:32.845Z",
      "lastAccessedAt": "2025-12-20T23:49:32.845Z",
      "version": 1,
      "size": 218,
      "compressed": false,
      "checksum": "dd6a4cb0bb59e3e23010494c7db29c233f7daf52d3dd070d43fa2b1d8ee4ddda",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjeydiq7_cpfdxzgpi",
      "key": "agent2/dtos",
      "value": {
        "files": [
          "src/database/dto/reminder.dto.ts",
          "src/database/constants/reminder-templates.ts"
        ],
        "enums": [
          "EscalationLevel",
          "ReminderStatus",
          "DeliveryChannel"
        ],
        "classes": [
          "SendRemindersDto",
          "ScheduleReminderDto"
        ],
        "interfaces": [
          "ReminderContent",
          "ReminderResult",
          "ReminderDetail",
          "EscalationResult",
          "ReminderHistoryEntry"
        ],
        "exports": "Added to src/database/dto/index.ts",
        "templates": {
          "email": [
            "FRIENDLY",
            "FIRM",
            "FINAL"
          ],
          "whatsapp": [
            "FRIENDLY",
            "FIRM",
            "FINAL"
          ]
        },
        "placeholders": [
          "parentName",
          "childName",
          "invoiceNumber",
          "amount",
          "dueDate",
          "daysOverdue",
          "crecheName",
          "crechePhone",
          "crecheEmail",
          "bankName",
          "accountNumber",
          "branchCode"
        ]
      },
      "type": "object",
      "namespace": "task-pay-014",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-20T23:52:18.703Z",
      "updatedAt": "2025-12-20T23:52:18.703Z",
      "lastAccessedAt": "2025-12-20T23:52:18.703Z",
      "version": 1,
      "size": 655,
      "compressed": false,
      "checksum": "e8b3408799146bb52fefed26f775e2d5314103e1a5869afff55ed6e22a3758c5",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjeyohne_kevv0qhj9",
      "key": "agent4/service",
      "value": {
        "file": "src/database/services/reminder.service.ts",
        "class": "ReminderService",
        "publicMethods": [
          "sendReminders",
          "generateReminderContent",
          "scheduleReminder",
          "escalateOverdue",
          "getReminderHistory"
        ],
        "privateMethods": [
          "determineEscalationLevel",
          "hasRecentReminder",
          "sendViaEmail",
          "sendViaWhatsApp",
          "renderTemplate",
          "formatCentsToRand",
          "calculateDaysOverdue",
          "mapPreferredContactToChannel",
          "formatDate"
        ],
        "constants": [
          "MIN_DAYS_BETWEEN_REMINDERS=3"
        ],
        "lineCount": 733
      },
      "type": "object",
      "namespace": "task-pay-014",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-21T00:00:50.522Z",
      "updatedAt": "2025-12-21T00:00:50.522Z",
      "lastAccessedAt": "2025-12-21T00:00:50.522Z",
      "version": 1,
      "size": 489,
      "compressed": false,
      "checksum": "3d44028dbd866050e293685528e4ff3bab320c3e40b5d8c45ac0df7fcf8d1ada",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjeyspmf_x2nhv9r8a",
      "key": "agent4/completion",
      "value": {
        "status": "complete",
        "file": "src/database/services/reminder.service.ts",
        "linesOfCode": 795,
        "allMethodsImplemented": true,
        "lintPassing": true,
        "buildPassing": true,
        "notes": "Bank details fields not yet in Tenant model - used empty strings as placeholders. Next agent should add bank fields to Tenant schema.",
        "nextAgent": "Agent 5 (Module registration)"
      },
      "type": "object",
      "namespace": "task-pay-014",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-21T00:04:07.479Z",
      "updatedAt": "2025-12-21T00:04:07.479Z",
      "lastAccessedAt": "2025-12-21T00:04:07.479Z",
      "version": 1,
      "size": 375,
      "compressed": false,
      "checksum": "0f49ff854a27b9b492900f8900cb5f201703e142bde97c138cb71a744ae5d5fe",
      "references": [],
      "dependencies": []
    },
    {
      "id": "entry_mjeyzp3p_e9i3e07w7",
      "key": "agent5/module",
      "value": {
        "files": [
          "src/database/database.module.ts",
          "src/database/services/index.ts",
          "src/database/repositories/index.ts"
        ],
        "added": [
          "ReminderRepository",
          "ReminderService"
        ],
        "status": "registered",
        "exports": {
          "dto": "already_added_by_agent2",
          "services": "added",
          "repositories": "added",
          "module_providers": "added",
          "module_exports": "added"
        },
        "next_agents": [
          "agent6_tests",
          "agent7_validation"
        ]
      },
      "type": "object",
      "namespace": "task-pay-014",
      "tags": [],
      "metadata": {},
      "owner": "system",
      "accessLevel": "shared",
      "createdAt": "2025-12-21T00:09:33.397Z",
      "updatedAt": "2025-12-21T00:09:33.397Z",
      "lastAccessedAt": "2025-12-21T00:09:33.397Z",
      "version": 1,
      "size": 404,
      "compressed": false,
      "checksum": "c96f63a92bb0926c05bff77baee87cd3f074d6a92d988fec37591aafac75e6cf",
      "references": [],
      "dependencies": []
    }
  ],
  "statistics": {
    "overview": {
      "totalEntries": 50,
      "totalSize": 24548,
      "compressedEntries": 2,
      "compressionRatio": 0.35755386056469957,
      "indexSize": 2500,
      "memoryUsage": 7637896,
      "diskUsage": 0
    },
    "distribution": {
      "byNamespace": {
        "test": {
          "count": 1,
          "size": 49
        },
        "crechebooks": {
          "count": 24,
          "size": 14803
        },
        "default": {
          "count": 1,
          "size": 219
        },
        "mcp-001": {
          "count": 8,
          "size": 3154
        },
        "project": {
          "count": 5,
          "size": 1054
        },
        "arrears": {
          "count": 6,
          "size": 3128
        },
        "task-pay-014": {
          "count": 5,
          "size": 2141
        }
      },
      "byType": {
        "object": {
          "count": 49,
          "size": 16739
        },
        "string": {
          "count": 1,
          "size": 7809
        }
      },
      "byOwner": {
        "system": {
          "count": 50,
          "size": 24548
        }
      },
      "byAccessLevel": {
        "shared": {
          "count": 50,
          "size": 24548
        }
      }
    },
    "temporal": {
      "entriesCreatedLast24h": 41,
      "entriesUpdatedLast24h": 41,
      "entriesAccessedLast24h": 41,
      "oldestEntry": "2025-12-19T23:03:44.618Z",
      "newestEntry": "2025-12-21T00:09:33.397Z"
    },
    "performance": {
      "averageQueryTime": 0,
      "averageWriteTime": 1,
      "cacheHitRatio": 0,
      "indexEfficiency": 0.95
    },
    "health": {
      "expiredEntries": 0,
      "orphanedReferences": 0,
      "duplicateKeys": 1,
      "corruptedEntries": 0,
      "recommendedCleanup": false
    },
    "optimization": {
      "suggestions": [
        "1 duplicate keys found"
      ],
      "potentialSavings": {
        "compression": 0,
        "cleanup": 0,
        "deduplication": 145
      },
      "indexOptimization": [
        "Consider periodic index rebuilding for optimal performance"
      ]
    }
  }
}